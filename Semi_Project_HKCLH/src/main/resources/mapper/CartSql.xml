<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="data.mapper.CartMapperInter">
	<!-- Semi Product -->
	

   <insert id="insertCart" parameterType="cart">
	insert into cart

	(mid, pnum, cquantity)

	values

	('Testid', 2, 1);
	<!-- ( #{mid}, #{pnum}, #{cquantity} ) -->
   </insert>
   
   <select id="getAllCart" parameterType="Map" resultType="Map">
	select 
	c.cid, c.mid, c.pnum, c.cquantity, 
	pr.pprice, pr.pname, pr.pphoto, 
	po.oid, po.oname, po.oaddprice, po.ovalue, 
	 
	c.cquantity*(pr.pprice+po.oaddprice) AS SUM_PRICE 
	
	from cart c
	join member m
	join product pr
	join poption po

	where c.mid = m.mid
	and c.pnum = pr.pnum
	and pr.oid = po.oid

	and m.mid = #{mid};
   </select>
   
   <!-- 삭제 -->
   <delete id="deleteCart" parameterType="String">
      delete from cart where cid = #{cid}
   </delete>
   
</mapper>